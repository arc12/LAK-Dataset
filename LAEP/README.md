# LAK Dataset Initial Processing
The original plan was to create an equivalent to the code in the 2012 Release to extract DataFrames and save as RData for later processing. Unfortunately the rrdf package is no longer distributed via CRAN and a problem with the Java classes used, which I do not understand, has blocked that approach. Instead, [Twinkle](http://www.ldodds.com/projects/twinkle/) was used to run the SPARQL queries. The results were saved and munged into CSV.

## SPARQL Queries
```
# get paper subjects which are literals
PREFIX dc:<http://purl.org/dc/elements/1.1/>
PREFIX dbpedia:<http://dbpedia.org/resource/>
PREFIX swc: <http://data.semanticweb.org/ns/swc/ontology#>
PREFIX swrc: <http://swrc.ontoware.org/ontology#>

select distinct ?origin ?year ?paper ?title ?subject
where {
   ?paper    dc:subject	?subject ;
		dc:title 	?title;
		swc:isPartOf ?origin;
		swrc:year 	?year .
	FILTER(isLiteral(?subject)) .
}
```

```
## variant for OA (uses dcterms:isPartOf for journals and swc:isPartOf for conference proceedings)
PREFIX dc:<http://purl.org/dc/elements/1.1/>
PREFIX dcterms:<http://purl.org/dc/terms/>
PREFIX dbpedia:<http://dbpedia.org/resource/>
PREFIX swc: <http://data.semanticweb.org/ns/swc/ontology#>
PREFIX swrc: <http://swrc.ontoware.org/ontology#>

select distinct ?origin ?year ?paper ?title ?subject
where {
 {  ?paper 	dc:subject	?subject ;
		dc:title 	?title;
		swc:isPartOf ?origin.
	FILTER(isLiteral(?subject)) .
} UNION
{  ?paper 	dc:subject	?subject ;
		dc:title 	?title;
		dcterms:isPartOf ?origin.
	FILTER(isLiteral(?subject)) .
}
}
```

```
#get paper subjects which are dbPedia resources
PREFIX dc:<http://purl.org/dc/elements/1.1/>
PREFIX dbpedia:<http://dbpedia.org/resource/>

select distinct ?paper ?subject where {
?paper dc:subject ?subject .
FILTER(isURI(?subject)) .
}
```

```
#to get counts, set Twinkle to use ARQ syntax (rather than SPARQL syntax)
#This counts conference proceedings papers
PREFIX swrc: <http://swrc.ontoware.org/ontology#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

select count(*) where {
?paper rdf:type swrc:InProceedings .
}
```

```
#Journal articles have a different type
PREFIX swrc: <http://swrc.ontoware.org/ontology#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

select count(*) where {
?paper rdf:type swrc:Article .
}
```

# General Notes
This stuff is mostly using the free text keywords specified by the original authors. There is quite a lot of manual inspection that has gone into what is here, including scanning for synonyms, tagging keywords according to broad theme. Hence, the code contains a bit of a blend of manual and automatic, and some of the files in the repository containing data derived from the LAK Dataset contain bits which you won't find the code creating. Take a look!

#What is Available
**Author Keywords.R** - takes the CSVs and does the work!

**Out/** - tabulated keyword counts and node+edge lists of keyword co-occurrence for Gephi

**Plots/** - bar charts of keyword frequency (generated by the R) + Gephi project files + screen-grabs from Gephi

